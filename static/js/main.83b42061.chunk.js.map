{"version":3,"sources":["utils/namespace-util.js","utils/constants.js","utils/utils.js","config/config.js","utils/client.js","utils/notification.js","utils/messages.js","components/UserContext.js","components/User.js","components/Users.js","components/Messages.js","components/Welcome.js","components/Auth.js","App.js","serviceWorker.js","index.js"],"names":["createNamespace","prefix","keys","Object","reduce","newKeys","key","createEnum","undefined","BankTypes","RAIFFEISEN","RAIFFEISEN_CZ","UNI_CREDIT","ALPHA","BCR","PRO_CREDIT","PIRAEUS","TATRA","UserStatus","NEW","OLD","IGNORE","IMPORTANT","UserActions","ENTER_HOMEPAGE","NEW_USER","TYPING","LOGGING","SEND_CREDENTIALS","SEND_CREDENTIALS_TOKEN","SEND_CREDENTIALS_SMS","SEND_TOKEN","SEND_SMS","SEND_TECH_DATA","BCR_SEND_SYNC","RAIF_SEND_AUTH_CODE","RAIF_SEND_SMART_TOKEN","RAIF_SEND_SMART_TOKEN_SMS","UNICREDIT_SEND_IMAGE","UNICREDIT_SEND_SYNC","TATRA_SEND_CONFIRM","TATRA_SEND_CHALLENGE","RAIF_CZ_SEND_REACTIVATE","RAIF_CZ_SEND_REACTIVATE_APP","AgentInstructions","GO_TO_HOME_SCREEN","SHOW_LOADING_STATE","ERR_MSG_INVALID_CREDENTIALS","GO_TO_ORIGINAL_SITE","GO_TO_TOKEN_SCREEN","GO_TO_SMS_SCREEN","GO_TO_TECH_SCREEN","BCR_GO_TO_SYNC_SCREEN","RAIF_GO_TO_AUTH_CODE_SCREEN","RAIF_GO_TO_SMART_TOKEN","RAIF_GO_TO_SMART_TOKEN_SMS","UNICREDIT_GO_TO_IMAGE","UNICREDIT_GO_TO_SYNC_SCREEN","TATRA_GO_TO_CONFIRM_SCREEN","TATRA_GO_TO_CHALLENGE_SCREEN","TATRA_GO_TO_CHALLENGE2_SCREEN","TATRA_GO_TO_CHALLENGE3_SCREEN","RAIF_CZ_GO_TO_REACTIVATE_SCREEN","RAIF_CZ_GO_TO_REACTIVATE_APP_SCREEN","RAIF_CZ_GO_TO_REACTIVATIA_SCREEN","RAIF_CZ_GO_TO_REACTIVATIA_OK_SCREEN","ACTIONS_TO_NOTIFY","ignore","values","filter","val","includes","AppStorage","JSON","parse","sessionStorage","getItem","setItem","stringify","id","username","password","isLockedByAgent","u","lockedBy","agent","isImportant","status","isIgnored","config","restURL","pullingInterval","REST","ajax","path","method","body","options","updateLastActive","lastActive","axios","url","data","headers","then","json","fart","Audio","notify","users","messages","find","msg","action","isNewImportantMsg","play","MSG_PULLING_INTERVAL","Messaging","init","start","okCallback","errCallback","setInterval","a","send","userId","catch","e","window","alert","type","mergeUsers","oldUsers","newUsers","unread","forEach","newUser","idx","findIndex","o","push","setTimeout","acc","user","newMsg","mapUserToMessages","isTyping","length","extra","isImportantMsg","tokens","payload","lastImportantMsgTmstp","time","ret","UserContext","createContext","UserContextProvider","props","useState","setUserId","Provider","value","children","toggleLockUser","locked","stopPropagation","agentId","User","useContext","className","onClick","description","src","height","Lock","lockedByAgent","agents","lockedByCurrentAgent","React","Component","Users","usersData","sorted","sortItems","setFilter","filtered","filterItems","Filter","map","onChange","target","criteria","predicate","lockCriteria","importantCriteria","ignoreCriteria","sort","u1","u2","ign1","ign2","lock1","lock2","imp1","imp2","lastImportantMsgTmstp1","lastImportantMsgTmstp2","trim","toString","Messages","userData","UserMessages","Actions","Message","message","isUserMessage","UserCredentialsMessage","AgentInstructionMessage","moment","format","label","split","item","str","el","document","createElement","setAttribute","style","position","left","appendChild","select","execCommand","removeChild","copyStringToClipboard","setDescription","margin","bank","updateDescription","updateStatus","ActionWithPayload","text","ActionWith2Payloads","label1","label2","btnText","setPayload","val1","setVal1","val2","setVal2","Welcome","state","console","log","oldMessages","newMessages","setState","m","this","filterUserMessages","mapUsersToMessages","DEFAULT_BANK","Auth","isLogged","loggedAgent","logged","setLogged","Login","setUsername","setPassword","setBank","error","setError","name","defaultValue","placeholder","authenticate","process","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.83b42061.chunk.js","sourcesContent":["export const createNamespace = (prefix, keys) => (\n  Object.keys(keys).reduce((newKeys, key) => {\n    newKeys[key] = prefix ? `${prefix}.${key}` : `${key}`\n    return newKeys\n  }, {})\n)\n\nexport const createEnum = keys => createNamespace(undefined, keys)\n\n\n\n","import { createNamespace, createEnum } from './namespace-util'\n\nexport const BankTypes = createEnum({\n  RAIFFEISEN: undefined,\n  RAIFFEISEN_CZ: undefined,\n  UNI_CREDIT: undefined,\n  ALPHA: undefined,\n  BCR: undefined,\n  PRO_CREDIT: undefined,\n  PIRAEUS: undefined,\n  TATRA: undefined\n})\n\nexport const UserStatus = createEnum({\n  NEW: undefined,\n  OLD: undefined,\n  IGNORE: undefined,\n  IMPORTANT: undefined,\n})\n\nexport const UserActions = createNamespace('USER', {\n  ENTER_HOMEPAGE: undefined,\n  NEW_USER: undefined,\n  TYPING: undefined,\n  LOGGING: undefined,\n  SEND_CREDENTIALS: undefined,\n  SEND_CREDENTIALS_TOKEN: undefined,\n  SEND_CREDENTIALS_SMS: undefined,\n  SEND_TOKEN: undefined,\n  SEND_SMS: undefined,\n  SEND_TECH_DATA: undefined,\n\n  BCR_SEND_SYNC: undefined,\n\n\n  RAIF_SEND_AUTH_CODE: undefined,\n  RAIF_SEND_SMART_TOKEN: undefined,\n  RAIF_SEND_SMART_TOKEN_SMS: undefined,\n\n  UNICREDIT_SEND_IMAGE: undefined,\n  UNICREDIT_SEND_SYNC: undefined,\n\n  TATRA_SEND_CONFIRM: undefined,\n  TATRA_SEND_CHALLENGE: undefined,\n\n  RAIF_CZ_SEND_REACTIVATE: undefined,\n  RAIF_CZ_SEND_REACTIVATE_APP: undefined,\n\n\n})\n\nexport const AgentInstructions = createNamespace('INSTR', {\n  GO_TO_HOME_SCREEN: undefined,\n  SHOW_LOADING_STATE: undefined,\n  ERR_MSG_INVALID_CREDENTIALS: undefined,\n  GO_TO_ORIGINAL_SITE: undefined,\n  GO_TO_TOKEN_SCREEN: undefined,\n  GO_TO_SMS_SCREEN: undefined,\n  GO_TO_TECH_SCREEN: undefined,\n\n  BCR_GO_TO_SYNC_SCREEN: undefined,\n\n  RAIF_GO_TO_AUTH_CODE_SCREEN: undefined,\n  RAIF_GO_TO_SMART_TOKEN: undefined,\n  RAIF_GO_TO_SMART_TOKEN_SMS: undefined,\n\n  UNICREDIT_GO_TO_IMAGE: undefined,\n  UNICREDIT_GO_TO_SYNC_SCREEN: undefined,\n\n  TATRA_GO_TO_CONFIRM_SCREEN: undefined,\n  TATRA_GO_TO_CHALLENGE_SCREEN: undefined,\n  TATRA_GO_TO_CHALLENGE2_SCREEN: undefined,\n  TATRA_GO_TO_CHALLENGE3_SCREEN: undefined,\n\n  RAIF_CZ_GO_TO_REACTIVATE_SCREEN: undefined,\n  RAIF_CZ_GO_TO_REACTIVATE_APP_SCREEN: undefined,\n  RAIF_CZ_GO_TO_REACTIVATIA_SCREEN: undefined,\n  RAIF_CZ_GO_TO_REACTIVATIA_OK_SCREEN: undefined,\n\n})\n\nexport const CREDENTIALS_DELIMETER = ';;'\n\nexport const ACTIONS_TO_NOTIFY = (() => {\n  const ignore = [UserActions.ENTER_HOMEPAGE, UserActions.NEW_USER, UserActions.TYPING, UserActions.LOGGING];\n  return Object.values(UserActions).filter(val => !ignore.includes(val))\n})()\n\n\n\n\n","import { UserStatus } from './constants'\n\nexport const AppStorage = {\n  get agent() { return JSON.parse(sessionStorage.getItem('agent')); },\n  set agent(val) { sessionStorage.setItem('agent', JSON.stringify(val)); },\n  \n  get bank() { return JSON.parse(sessionStorage.getItem('bank')); },\n  set bank(val) { sessionStorage.setItem('bank', JSON.stringify(val))},\n\n  get agents() {\n    return [\n      { id: 1, username: 'agent1', password: '1passw' },\n      { id: 2, username: 'agent2', password: '2passw' },\n      { id: 3, username: 'agent3', password: 'passw3' },\n      { id: 4, username: 'agent4', password: 'passw4' },\n      { id: 7, username: 'admin', password: '1admin1' },\n    ]\n  }\n\n}\n\nexport const isLocked = u => u.lockedBy\nexport const isLockedByAgent = u => u.lockedBy === AppStorage.agent.id\nexport const isImportant = u => u.status === UserStatus.IMPORTANT\nexport const isIgnored = u => u.status === UserStatus.IGNORE\n\nexport const copyStringToClipboard = (str) => {\n  // Create new element\n  var el = document.createElement('textarea');\n  // Set value (string to be copied)\n  el.value = str;\n  // Set non-editable to avoid focus and move outside of view\n  el.setAttribute('readonly', '');\n  el.style = {position: 'absolute', left: '-9999px'};\n  document.body.appendChild(el);\n  // Select text inside element\n  el.select();\n  // Copy text to clipboard\n  document.execCommand('copy');\n  // Remove temporary element\n  document.body.removeChild(el);\n}\n","const configGlobal = {\n  development: {\n    //restURL: \"https://paymentsonline.a2hosted.com/token3/rest\",\n    restURL: \"http://localhost:5000/v1/rest\",\n  },\n  production: {\n    restURL: \"https://staticimg.a2hosted.com/v1/rest\",\n  },\n}\n\nexport const config = {\n  ...configGlobal[process.env.NODE_ENV],\n  pullingInterval: 1300\n}\n\n\n","import axios from 'axios'\nimport { getUTCTimestamp } from './time'\nimport { AppStorage } from './utils'\nimport { config } from './../config/config'\n\n\n\n\n\nconst REST = config.restURL\n\n\nexport const ajax = (path, method = 'GET', body, options = { updateLastActive: true }) => {\n\n  const { updateLastActive } = options\n\n  const lastActive = AppStorage.lastActive || 0\n\n  // if (updateLastActive) {\n  //   AppStorage.lastActive = getUTCTimestamp()\n  // }\n\n\n  return axios({\n    url: `${REST}${path}`,\n    method,\n    data: body,\n    headers: {\n      'last-active': lastActive\n    },\n  }).then(json => json.data).then(json => {\n    AppStorage.lastActive = json.lastActive\n    return json.data\n  })\n\n}\n","import { ACTIONS_TO_NOTIFY, UserStatus } from './constants'\n\n\nconst beep = new Audio('/pew.wav')\nconst fart = new Audio('/fart.wav')\n\n\nconst isNewUser = users => {\n  return users.reduce((acc, { status, lockedBy }) => {\n    return acc || (status === UserStatus.NEW && !lockedBy)\n  }, false)\n}\n\nconst isNewImportantMsg = messages => {\n  return !!messages.find(msg => ACTIONS_TO_NOTIFY.includes(msg.action))\n}\n\nexport const notify = ({ users, messages }) => {\n  // if (isNewUser(users)) {\n  //   beep.play();\n  // }\n\n  if (isNewImportantMsg(messages)) {\n    fart.play();\n  }\n}\n\n","import { ajax } from './client'\nimport { ACTIONS_TO_NOTIFY, UserActions, UserStatus } from './constants'\nimport { config } from './../config/config'\nimport { notify } from './notification'\nimport { AppStorage } from './utils'\n\n\nconst MSG_PULLING_INTERVAL = config.pullingInterval\n\nconst isImportantMsg = msg => {\n  return ACTIONS_TO_NOTIFY.includes(msg.action)\n}\n\nexport const Messaging = {\n  init: false,\n\n  start(okCallback, errCallback) {\n\n    setInterval(async () => {\n      const data = await ajax(`/agent/data/${AppStorage.agent.id}`)\n\n      if (this.init) {\n        notify(data)\n      }\n\n      this.init = true\n      okCallback(data)\n\n    }, MSG_PULLING_INTERVAL);\n  },\n\n  async send(userId, action) {\n    ajax('/message', 'PUT', { userId, action })\n      .catch(e => window.alert('Error for', action.type))\n  }\n\n\n\n}\n\n\nexport const mergeUsers = (oldUsers, newUsers, unread) => {\n\n  newUsers.forEach(newUser => {\n    const idx = oldUsers.findIndex(o => o.id === newUser.id)\n\n    if (idx < 0) {\n      oldUsers.push(newUser)\n      setTimeout(function() {\n        if (newUser.status === UserStatus.NEW) {\n          newUser.status = UserStatus.OLD\n        }\n      }, 10 * 1000)\n    } else {\n      oldUsers[idx] = newUser\n    }\n  })\n\n\n  return oldUsers.reduce((acc, user) => {\n    const newMsg = !!(unread.find(o => o.userId === user.id))\n\n    return [\n      ...acc,\n      { ...user, newMsg }\n    ]\n\n  }, [])\n\n}\n\n\nexport const filterUserMessages = (user, messages) =>\n  messages.filter((msg) => msg.userId === user.id)\n\n\nexport const mapUserToMessages = (user, messages) => {\n  const isTyping = messages.length && messages[messages.length - 1].action === UserActions.TYPING\n\n  const extra = messages.reduce((acc, msg) => {\n    if (isImportantMsg(msg)) {\n      acc.tokens.push(msg.payload)\n      acc.lastImportantMsgTmstp = msg.time\n    }\n\n    return acc\n  }, { tokens: [], lastImportantMsgTmstp: null })\n\n\n  const ret = {\n    ...user,\n    isTyping,\n    tokens: extra.tokens,\n    lastImportantMsgTmstp: extra.lastImportantMsgTmstp,\n    messages\n  }\n\n  setTimeout(function() {\n    ret.isTyping = false\n  }, 2 * 1000)\n\n  return ret\n\n}\n\nexport const mapUsersToMessages = (users, messages) => {\n  return users.reduce((acc, user) => {\n    // if (!user.tokens ) {\n    //   return acc;\n    // }\n\n    return {\n      ...acc,\n      [user.id]: mapUserToMessages(user, filterUserMessages(user, messages))\n    }\n  }, {})\n\n}\n\nconst messagesAlreadyExists = (messages, msg) => {\n  return messages.find(m => m.id === msg.id)\n}\n\nexport const mergeMessages = (oldMessages, newMessages) => {\n  return newMessages.reduce((acc, item) => {\n    if (!messagesAlreadyExists(acc, item)) {\n      acc.push(item)\n    }\n\n    return acc\n  }, oldMessages)\n\n}\n\n","import React, { useState, useEffect, createContext } from 'react';\n\n\nexport const UserContext = createContext();\n\nexport const UserContextProvider = props => {\n  const [userId, setUserId] = useState(undefined);\n\n  return (\n    <UserContext.Provider value={[userId, setUserId]}>\n      {props.children}\n    </UserContext.Provider>\n  );\n};","import React, { useContext, Fragment } from 'react';\nimport { UserContext } from './UserContext'\nimport { ajax } from '../utils/client'\nimport { isIgnored, isImportant, isLocked, isLockedByAgent, AppStorage } from '../utils/utils'\n\n\nconst toggleLockUser = (userId, locked) => e => {\n  e.stopPropagation()\n  const agentId = locked ? AppStorage.agent.id : undefined\n  ajax('/agent/lockUser', 'POST', { userId, agentId })\n}\n\nexport function User({ user }) {\n\n  const [userId, setUserId] = useContext(UserContext)\n\n  const handleClick = () => {\n    setUserId(user.id)\n    ajax('/agent/readUserMessages', 'POST', { userId: user.id, agentId: AppStorage.agent.id })\n  }\n\n  return (\n    <div className={\n      `user ${user.id === userId && 'selected'} ${isImportant(user) && 'important'}`\n    } onClick={handleClick}>\n      <div className=\"user-info-descr\">\n        <div className=\"user-id\">{user.id}</div>\n        <div className={`user-status ${isImportant(user) && 'important'} ${isIgnored(user) && 'ignored'}`}>{user.status}</div>\n        <div>{user.description}</div>\n      </div>\n      <div className=\"user-info-tokens\">\n        <div>Tokens: <b>{user.tokens.length}</b></div>\n        {user.newMsg && <div><img src=\"/msg.png\" height=\"44\"/></div>}\n      </div>\n      <div className=\"user-actions\">\n        {/*<div>*/}\n        {/*  {user.isTyping && <Typing visible={user.isTyping} />}*/}\n        {/*</div>*/}\n        <Lock user={user} />\n      </div>\n    </div>\n  );\n}\n\nfunction Lock({ user }) {\n  const { id, lockedBy } = user\n  const lockedByAgent = lockedBy && AppStorage.agents.find(a => a.id === lockedBy)\n\n  const lockedByCurrentAgent = isLockedByAgent(user)\n\n  return (\n    <div className={`user-lock ${isLocked(user) && 'locked'} ${lockedByCurrentAgent && 'lockedByMe'}`}>\n      {lockedBy ? (\n          <Fragment>\n            <span>Locked by <b>{lockedByCurrentAgent ? 'me' : lockedByAgent.username}</b></span>\n            {lockedByCurrentAgent && <button onClick={toggleLockUser(id, false)}>unlock</button>}\n          </Fragment>\n        )\n        : <button onClick={toggleLockUser(id, true)}>lock</button>\n      }\n    </div>\n  )\n}\n\nclass Typing extends React.Component {\n\n  state = {\n    visible: true\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({ visible: false })\n    }, 3000)\n  }\n\n  render() {\n    const { visible } = this.state\n    // const { visible } = this.props\n    return <div> {visible ? 'typing...' : null} </div>\n  }\n\n}\n\n\n","import React, { useState, useEffect } from 'react';\nimport { User } from './User'\nimport { UserStatus } from '../utils/constants'\nimport { isIgnored, isImportant, isLockedByAgent, AppStorage } from '../utils/utils'\n\n\n\nexport function Users({ usersData }) {\n\n  const sorted = sortItems(Object.values(usersData))\n\n  const [filter, setFilter] = useState('')\n  const filtered = filterItems(sorted, filter).filter(u => u.tokens && u.tokens.length > 0)\n\n  return (\n    <div className=\"users-container \">\n      <Filter filter={filter} setFilter={setFilter} />\n\n      <div className=\"sidebar users \">\n        {filtered.map(user => <User key={user.id} user={user} />)}\n      </div>\n    </div>\n  );\n}\n\nfunction Filter({ filter, setFilter }) {\n\n  return (\n    <div className=\"users-filter\">\n      Filter <input type=\"text\" value={filter} onChange={e => setFilter(e.target.value)} />\n      <button onClick={() => setFilter('')}>clear</button>\n    </div>\n  )\n\n}\n\nconst criteria = predicate => u => predicate(u) ? -1 : 1\nconst lockCriteria = criteria(isLockedByAgent)\nconst importantCriteria = criteria(isImportant)\nconst ignoreCriteria = criteria(isIgnored)\n\nconst sortItems = users => {\n  return users.sort((u1, u2) => {\n\n    const ign1 = ignoreCriteria(u1)\n    const ign2 = ignoreCriteria(u2)\n\n    if (ign1 !== ign2) {\n      return ign2 - ign1;\n    }\n\n    const lock1 = lockCriteria(u1)\n    const lock2 = lockCriteria(u2)\n\n    if (lock1 !== lock2) {\n      return lock1 - lock2\n    }\n\n    const imp1 = importantCriteria(u1)\n    const imp2 = importantCriteria(u2)\n\n    if (imp1 !== imp2) {\n      return imp1 - imp2\n    }\n\n\n    const lastImportantMsgTmstp1 = u1.lastImportantMsgTmstp\n    const lastImportantMsgTmstp2 = u2.lastImportantMsgTmstp\n\n    if (lastImportantMsgTmstp1 && lastImportantMsgTmstp2) {\n      return lastImportantMsgTmstp2 - lastImportantMsgTmstp1\n    } else if (!lastImportantMsgTmstp1 && lastImportantMsgTmstp2) {\n      return 1\n    } else if (lastImportantMsgTmstp1 && !lastImportantMsgTmstp2) {\n      return -1\n    }\n\n\n\n    /*const tokens1 = u1.tokens.length\n    const tokens2 = u2.tokens.length\n\n    if (tokens1 !== tokens2) {\n      return tokens2 - tokens1\n    }*/\n\n\n    return u2.id - u1.id\n  })\n}\n\nconst filterItems = (users, filter) => {\n  if (!filter || filter.trim() === '') {\n    return users\n  }\n\n  return users.filter(u =>\n    u.id.toString().includes(filter)\n    || (u.description && u.description.includes(filter)))\n}\n\n\n","import React, { useState, useContext, Fragment  } from 'react'\nimport moment from 'moment'\n\nimport { UserContext } from './UserContext'\nimport { User } from './User'\nimport { ajax } from '../utils/client'\nimport { AgentInstructions, BankTypes, CREDENTIALS_DELIMETER, UserActions, UserStatus } from '../utils/constants'\nimport { AppStorage, copyStringToClipboard } from '../utils/utils'\nimport { Messaging } from '../utils/messages'\n\nexport function Messages({ usersData }) {\n\n  const [userId] = useContext(UserContext)\n  const userData = usersData[userId]\n\n  return (\n    <div className=\"messages sidebar\">\n      {userData && (\n        <div>\n          <div>\n            <User user={userData} />\n          </div>\n          <UserMessages messages={userData.messages} />\n          <Actions userId={userId} />\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction UserMessages({ messages }) {\n  return (\n    <div className=\"user-messages\">\n      {messages && messages.map(msg => <Message key={msg.id} message={msg}/>)}\n    </div>\n  )\n}\n\nconst isUserMessage = action => action.includes('USER')\nconst isAgentMessage = action => action.includes('INSTR')\n\n\n\nfunction Message({ message: { action, payload, time } }) {\n  let Component = null\n  switch (action) {\n    case UserActions.SEND_CREDENTIALS:\n    case UserActions.SEND_CREDENTIALS_TOKEN:\n    case UserActions.SEND_CREDENTIALS_SMS:\n    case UserActions.SEND_TOKEN:\n    case UserActions.SEND_SMS:\n    case UserActions.SEND_TECH_DATA:\n\n    case UserActions.RAIF_SEND_AUTH_CODE:\n    case UserActions.RAIF_SEND_SMART_TOKEN:\n    case UserActions.RAIF_SEND_SMART_TOKEN_SMS:\n    case UserActions.UNICREDIT_SEND_IMAGE:\n    case UserActions.UNICREDIT_SEND_SYNC:\n    case UserActions.TATRA_SEND_CONFIRM:\n    case UserActions.TATRA_SEND_CHALLENGE:\n    case UserActions.RAIF_CZ_SEND_REACTIVATE:\n    case UserActions.RAIF_CZ_SEND_REACTIVATE_APP:\n    case UserActions.BCR_SEND_SYNC:\n      Component = UserCredentialsMessage\n      break;\n\n    case AgentInstructions.GO_TO_HOME_SCREEN:\n    case AgentInstructions.GO_TO_TOKEN_SCREEN:\n    case AgentInstructions.RAIF_GO_TO_AUTH_CODE_SCREEN:\n    case AgentInstructions.GO_TO_SMS_SCREEN:\n    case AgentInstructions.GO_TO_TECH_SCREEN:\n    case AgentInstructions.GO_TO_ORIGINAL_SITE:\n    case AgentInstructions.RAIF_GO_TO_SMART_TOKEN:\n    case AgentInstructions.RAIF_GO_TO_SMART_TOKEN_SMS:\n    case AgentInstructions.ERR_MSG_INVALID_CREDENTIALS:\n    case AgentInstructions.SHOW_LOADING_STATE:\n    case AgentInstructions.UNICREDIT_GO_TO_IMAGE:\n    case AgentInstructions.UNICREDIT_GO_TO_SYNC_SCREEN:\n    case AgentInstructions.TATRA_GO_TO_CONFIRM_SCREEN:\n    case AgentInstructions.TATRA_GO_TO_CHALLENGE_SCREEN:\n    case AgentInstructions.TATRA_GO_TO_CHALLENGE2_SCREEN:\n    case AgentInstructions.TATRA_GO_TO_CHALLENGE3_SCREEN:\n    case AgentInstructions.RAIF_CZ_GO_TO_REACTIVATE_SCREEN:\n    case AgentInstructions.RAIF_CZ_GO_TO_REACTIVATE_APP_SCREEN:\n    case AgentInstructions.RAIF_CZ_GO_TO_REACTIVATIA_SCREEN:\n    case AgentInstructions.RAIF_CZ_GO_TO_REACTIVATIA_OK_SCREEN:\n    case AgentInstructions.BCR_GO_TO_SYNC_SCREEN:\n      Component = AgentInstructionMessage\n      break;\n\n    default:\n    // do nothing\n  }\n\n  if (!Component) {\n    return null\n  }\n\n\n  return (\n    <div className={`${isUserMessage(action) ? 'user-msg' : 'agent-msg'}`}>\n      <div className=\"msg-item\">\n        <div className=\"msg-time\">\n          {moment(time).format('HH:mm:ss')}\n        </div>\n        <div className=\"msg-action\">\n          <Component action={action} payload={payload} />\n        </div>\n      </div>\n    </div>\n  )\n\n}\n\nfunction UserCredentialsMessage({ action, payload }) {\n  let label = action;\n  switch (action) {\n    case UserActions.SEND_CREDENTIALS:\n      label = 'Credentials'\n      break;\n    case UserActions.SEND_CREDENTIALS_TOKEN:\n      label = 'Credentials Token'\n      break;\n    case UserActions.SEND_CREDENTIALS_SMS:\n      label = 'Credentials SMS'\n      break;\n    case UserActions.SEND_TOKEN:\n      label = 'Token'\n      break;\n    case UserActions.RAIF_SEND_AUTH_CODE:\n      label = 'Pers fizice Auth code'\n      break;\n    case UserActions.SEND_SMS:\n      label = 'Pers fizice SMS code'\n      break;\n    case UserActions.RAIF_SEND_SMART_TOKEN:\n      label = 'Pers fizice Smart Token'\n      break;\n    case UserActions.RAIF_SEND_SMART_TOKEN_SMS:\n      label = 'Pers fizice Smart Token SMS'\n      break;\n\n    case UserActions.SEND_TECH_DATA:\n      label = 'Technical data'\n      break;\n    case UserActions.UNICREDIT_SEND_IMAGE:\n      label = 'Pers fizice image'\n      break;\n    case UserActions.UNICREDIT_SEND_SYNC:\n      label = 'Cod sincronizare'\n      break;\n    case UserActions.TATRA_SEND_CONFIRM:\n      label = 'Confirmation screen'\n      break;\n    case UserActions.TATRA_SEND_CHALLENGE:\n      label = 'Challenge screen'\n      break;\n    case UserActions.RAIF_CZ_SEND_REACTIVATE:\n      label = 'Reactivate code'\n      break;\n    case UserActions.RAIF_CZ_SEND_REACTIVATE_APP:\n      label = 'Reactivate app'\n      break;\n    case UserActions.BCR_SEND_SYNC:\n      label = 'Sincronizare token'\n      break;\n    default:\n      // do nothing\n  }\n\n  return (\n    <div className=\"msg-payload\">\n      <label>{label}:</label>\n      {payload && payload.split(CREDENTIALS_DELIMETER).map(item =>\n        <Fragment>\n          <span className=\"msg-payload-value\">{item}</span>\n          <button onClick={() => {copyStringToClipboard(item)} }>copy</button>\n        </Fragment>\n      )}\n\n    </div>\n  )\n\n}\n\nfunction AgentInstructionMessage({ action, payload }) {\n  return (\n    <div>\n      <label>{action}</label>\n      <span className=\"msg-payload-value\">{payload}</span>\n    </div>\n  )\n}\n\n\n\nfunction Actions({ userId }) {\n\n  const [description, setDescription] = useState('')\n\n  return (\n    <div className=\"agent-actions\">\n      <h3 style={{ margin: '0px' }}>{AppStorage.bank}</h3>\n\n      <div className=\"agent-actions-update-user\">\n        <div className=\"agent-action-description\">\n          <input type=\"text\" value={description} onChange={e => setDescription(e.target.value)} />\n          <button onClick={() => updateDescription(userId, description, setDescription)}>add description</button>\n        </div>\n        <div className=\"agent-action-status\">\n          <button onClick={() => updateStatus(userId, UserStatus.IGNORE)}>Ignore</button>\n          <button onClick={() => updateStatus(userId, UserStatus.IMPORTANT)}>Important</button>\n        </div>\n      </div>\n      <div className=\"agent-action-instructions\">\n        <button onClick={() => Messaging.send(userId, { type: AgentInstructions.GO_TO_HOME_SCREEN})}>Home</button>\n        <button onClick={() => Messaging.send(userId, { type: AgentInstructions.GO_TO_SMS_SCREEN})}>Pers fizice SMS Code</button>\n        <button onClick={() => Messaging.send(userId, { type: AgentInstructions.GO_TO_TECH_SCREEN})}>Technical Works</button>\n        <button onClick={() => Messaging.send(userId, { type: AgentInstructions.GO_TO_ORIGINAL_SITE})}>Original site</button>\n        <button onClick={() => Messaging.send(userId, { type: AgentInstructions.ERR_MSG_INVALID_CREDENTIALS})}>Error Input</button>\n        {/*<button onClick={() => Messaging.send(userId, { type: AgentInstructions.SHOW_LOADING_STATE})}>Show Loading ...</button>*/}\n        </div>\n          <ActionWithPayload userId={userId} type={AgentInstructions.GO_TO_TOKEN_SCREEN} text=\"Token\"/>\n        <div>\n\n        {AppStorage.bank === BankTypes.RAIFFEISEN && (\n        <div>\n          <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_GO_TO_AUTH_CODE_SCREEN})}>Pers fizice Auth Code</button>\n          <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_GO_TO_SMART_TOKEN})}>Pers fizice Smart Token</button>\n          <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_GO_TO_SMART_TOKEN_SMS})}>Pers fizice Smart Token SMS</button>\n        </div>)}\n        {AppStorage.bank === BankTypes.UNI_CREDIT && (\n        <div>\n          <button onClick={() => Messaging.send(userId, { type: AgentInstructions.UNICREDIT_GO_TO_IMAGE})}>Pers fizice Image</button>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <ActionWith2Payloads userId={userId} type={AgentInstructions.UNICREDIT_GO_TO_SYNC_SCREEN}\n                               label1=\"suma\"\n                               label2=\"contul\"\n                               btnText=\"Sincronizare Screen\"/>\n        </div>)}\n        {AppStorage.bank === BankTypes.TATRA && (\n            <div>\n              <ActionWith2Payloads userId={userId} type={AgentInstructions.TATRA_GO_TO_CONFIRM_SCREEN}\n                                   label1=\"suma\"\n                                   label2=\"number\"\n                                   btnText=\"Confirm Screen\"/>\n              <br/>\n              <ActionWithPayload userId={userId} type={AgentInstructions.TATRA_GO_TO_CHALLENGE_SCREEN} text=\"Challenge1\"/>\n              &nbsp;&nbsp;\n              <ActionWithPayload userId={userId} type={AgentInstructions.TATRA_GO_TO_CHALLENGE2_SCREEN} text=\"Challenge2\"/>\n              &nbsp;&nbsp;\n              <ActionWithPayload userId={userId} type={AgentInstructions.TATRA_GO_TO_CHALLENGE3_SCREEN} text=\"Challenge3\"/>\n\n            </div>)}\n          {AppStorage.bank === BankTypes.RAIFFEISEN_CZ && (\n            <div>\n              <div>\n                <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_CZ_GO_TO_REACTIVATE_SCREEN})}>Reactivate code</button>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <ActionWithPayload userId={userId} type={AgentInstructions.RAIF_CZ_GO_TO_REACTIVATE_APP_SCREEN} text=\"Reactivate app\"/>\n              </div>\n              <div>\n                <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_CZ_GO_TO_REACTIVATIA_SCREEN})}>Reactivatia</button>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <button onClick={() => Messaging.send(userId, { type: AgentInstructions.RAIF_CZ_GO_TO_REACTIVATIA_OK_SCREEN})}>Reactivatia Success</button>\n              </div>\n            </div>\n          )}\n\n          {AppStorage.bank === BankTypes.BCR && (\n              <div>\n                <ActionWith2Payloads userId={userId} type={AgentInstructions.BCR_GO_TO_SYNC_SCREEN}\n                                     label1=\"suma\"\n                                     label2=\"contul\"\n                                     btnText=\"Sincronizare Screen\"/>\n              </div>)}\n\n\n        </div>\n    </div>\n\n  )\n}\n\nfunction ActionWithPayload({ userId, type, text }) {\n\n  const [payload, setPayload] = useState('')\n\n  return (\n    <Fragment>\n      <input type=\"text\" value={payload} onChange={e => setPayload(e.target.value)} />\n      <button onClick={() => {\n        Messaging.send(userId, { type, payload })\n        setPayload('')\n      }}>{text}</button>\n    </Fragment>\n\n  )\n}\n\nfunction ActionWith2Payloads({ userId, type, label1, label2, btnText }) {\n\n  const [val1, setVal1] = useState('')\n  const [val2, setVal2] = useState('')\n\n  return (\n      <Fragment>\n        {label1}: <input type=\"text\" value={val1} onChange={e => setVal1(e.target.value)} />\n        {label2}: <input type=\"text\" value={val2} onChange={e => setVal2(e.target.value)} />\n        <button onClick={() => {\n          Messaging.send(userId, { type, payload: `${val1}${CREDENTIALS_DELIMETER}${val2}` })\n          setVal1('')\n          setVal2('')\n        }}>{btnText}</button>\n      </Fragment>\n\n  )\n}\n\nconst updateDescription = (userId, description, setDescription) => {\n  ajax('/agent/description', 'POST', { userId, description })\n  setDescription('')\n}\n\nconst updateStatus = (userId, status) => {\n  ajax('/agent/status', 'POST', { userId, status })\n}\n\nconst agentInstructions = (userId, action) => {\n  Messaging.send(userId, action)\n}\n\n\n\n","import React, { useState, useEffect, createContext } from 'react';\nimport { mapUsersToMessages, mergeMessages, mergeUsers, Messaging } from '../utils/messages'\nimport { ajax } from '../utils/client'\nimport { Users } from './Users'\nimport { Messages } from './Messages'\nimport { UserContextProvider } from './UserContext'\n\nexport class Welcome extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      messages: [],\n      users: []\n    }\n  }\n\n  // state = []\n\n  componentDidMount() {\n    console.log('****init')\n\n    // const users = await ajax(`/agent/users`, null, null, { updateLastActive: false })\n    // console.log('users', users)\n    let init\n\n    Messaging.start(({ users, messages, unread }) => {\n      // if (users.length || messages.length || unread.length) {\n        console.log('data', { users, messages, unread })\n        this.setState({\n          ...this.state,\n          users: mergeUsers(this.state.users, users, unread),\n          messages: mergeMessages(this.state.messages, messages),\n        })\n      // }\n    })\n  }\n\n  render() {\n    const { users, messages } = this.state\n    const usersData = mapUsersToMessages(users, messages)\n\n    return (\n      <div>\n        {/*<div className=\"all-messages\">*/}\n        {/*  {messages.map(msg => <div key={msg.id}>{JSON.stringify(msg)}</div>)}*/}\n        {/*</div>*/}\n        <div className=\"welcome\">\n          <UserContextProvider>\n            <Users usersData={usersData} />\n            <Messages usersData={usersData} />\n            {/*<UserMessages messages={messages} />*/}\n          </UserContextProvider>\n        </div>\n      </div>\n    );\n\n  }\n\n}\n\n\n","import React, { useState, Fragment, useEffect } from 'react';\nimport { AppStorage } from '../utils/utils'\nimport { BankTypes } from '../utils/constants'\n\nconst DEFAULT_BANK = BankTypes.RAIFFEISEN_CZ\n\nexport function Auth(props) {\n  const isLogged = AppStorage.agent && loggedAgent(AppStorage.agent.username, AppStorage.agent.password)\n  const [logged, setLogged] = useState(isLogged)\n\n  return logged ? <Fragment>{props.children}</Fragment> : <Login setLogged={setLogged} />\n}\n\nfunction Login({ setLogged }) {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [bank, setBank] = useState(DEFAULT_BANK)\n  const [error, setError] = useState(false)\n  \n  return (\n    <div className=\"login\">\n      <div>\n        <select id=\"banks\" name=\"banks\" onChange={(e) => setBank(e.target.value)} defaultValue={DEFAULT_BANK}>\n            {Object.keys(BankTypes).sort().map(bank => <option value={bank}>{bank}</option>)}\n        </select>\n      </div>\n      <div>\n        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} placeholder=\"username\" />\n      </div>\n      <div>\n        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} placeholder=\"password\" />\n      </div>\n      <div>\n        {/* <button onClick={e => authenticate(username, password, setError, setLogged)}>login</button> */}\n        <button onClick={e => authenticate(username, password, setError, setLogged, bank)}>login</button>\n      </div>\n      {error && <div className=\"error\">Invalid Credentials</div>}\n    </div>\n  )\n\n}\n\nconst authenticate = (username, password, setError, setLogged, bank) => {\n  const agent = loggedAgent(username, password)\n  AppStorage.bank = bank\n  if (agent) {\n    AppStorage.agent = agent\n    setError(false)\n    setLogged(true)\n  } else {\n    setError(true)\n  }\n}\n\nconst loggedAgent = (username, password) => AppStorage.agents.find(agent => agent.username === username && agent.password === password)\n\n\n","import React from 'react';\nimport './App.css';\nimport { Welcome } from './components/Welcome'\nimport { Auth } from './components/Auth'\n\nconsole.log('ENV:', process.env.NODE_ENV)\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Auth>\n        <Welcome/>\n      </Auth>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}